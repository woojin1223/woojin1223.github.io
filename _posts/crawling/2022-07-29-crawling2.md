---
title:  "Python으로 하는 웹 크롤링 (2)"
categories: 크롤링
tag: [python, BeautifulSoup]
---

<head>
  <style>
    table.dataframe {
      white-space: normal;
      width: 100%;
      height: 240px;
      display: block;
      overflow: auto;
      font-family: Arial, sans-serif;
      font-size: 0.9rem;
      line-height: 20px;
      text-align: center;
      border: 0px !important;
    }

    table.dataframe th {
      text-align: center;
      font-weight: bold;
      padding: 8px;
    }

    table.dataframe td {
      text-align: center;
      padding: 8px;
    }

    table.dataframe tr:hover {
      background: #b8d1f3; 
    }

    .output_prompt {
      overflow: auto;
      font-size: 0.9rem;
      line-height: 1.45;
      border-radius: 0.3rem;
      -webkit-overflow-scrolling: touch;
      padding: 0.8rem;
      margin-top: 0;
      margin-bottom: 15px;
      font: 1rem Consolas, "Liberation Mono", Menlo, Courier, monospace;
      color: $code-text-color;
      border: solid 1px $border-color;
      border-radius: 0.3rem;
      word-break: normal;
      white-space: pre;
    }

  .dataframe tbody tr th:only-of-type {
      vertical-align: middle;
  }

  .dataframe tbody tr th {
      vertical-align: top;
  }

  .dataframe thead th {
      text-align: center !important;
      padding: 8px;
  }

  .page__content p {
      margin: 0 0 0px !important;
  }

  .page__content p > strong {
    font-size: 0.8rem !important;
  }

  </style>
</head>


# 4. BeautifulSoup


HTML 및 XML 코드에서 원하는 데이터를 분석(parsing)할 수 있는 모듈을 모아 놓은 패키지


- **Urllib**의 `urlopen` + `read`로 불러온 HTML 코드는 파이썬이 이해할 수 있는 객체 구조로 만들어 주지는 못한다.

- **BeautifulSoup**은 HTML 코드를 파이썬이 이해할 수 있는 객체 구조로 변환하는 **parsing**을 맡고 있고, 이 패키지를 이용해 의미있는 정보를 추출해 낼 수 있다.


<br><br>


## 4.1 BeautifulSoup 객체


4.1 `BeautifulSoup` 모듈 불러오기



```python
from bs4 import BeautifulSoup
```

---


4.2 `BeautifulSoup` 객체 만들기



```python
from urllib.request import urlopen

url = 'https://search.naver.com/search.naver?sm=top_hty&fbm=1&ie=utf8&query=%EC%95%84%EB%B0%98%EB%96%BC'
response_object = urlopen(url)
html = response_object.read()
```


```python
bs_object = BeautifulSoup(html, 'html.parser') # 간편하게 사용할 수 있는 'html.parser'
```

---


4.3 `BeautifulSoup`에서 사용할 수 있는 **parser**의 장단점을 보여주는 테이블


<table>

    <tr>

    <th>Parser</th>

    <th>선언 방법</th>

    <th>장점</th>

    <th>단점</th>

    </tr>

    <tr>

        <td>파이썬 html.parser</td>

        <td><code>BeautifulSoup(markup, 'html.parser')</code></td>

        <td>설치할 필요 없음<br> 적당한 속도</td>

        <td></td>

    </tr>

    <tr>

        <td>lxml HTML parser</td>

        <td><code>BeautifulSoup(markup, 'lxml')</code></td>

        <td>매우 빠름</td>

        <td>lxml 추가 설치 필요</td>

    </tr>

    <tr>

        <td>lxml XML parser</td>

        <td><code>BeautifulSoup(markup, 'lxml-xml')</code></td>

        <td>매우 빠름</td>

        <td>lxml 추가 설치 필요</td>

    </tr>

    <tr>

        <td>lxml XML parser</td>

        <td><code>BeautifulSoup(markup, 'xml')</code></td>

        <td>유일하게 지원되는 xml parser</td>

        <td></td>

    </tr>

    <tr>

        <td>html5lib</td>

        <td><code>BeautifulSoup(markup, 'html5lib')</code></td>

        <td>웹 브라우저와 같은 방식으로 페이지를 파싱<br> 유효한 HTML5 생성</td>

        <td>html5lib 추가 설치 필요<br> 매우 느림</td>

    </tr>

</table>


---


4.4 `BeautifulSoup` 객체 탐색



```python
type(bs_object)
```

<pre>
bs4.BeautifulSoup
</pre>

```python
print(bs_object) # BeautifulSoup 객체를 출력하면 html 코드가 나온다. (너무 길어서 일부만 출력)
```

```

<!DOCTYPE doctype html>\n <html lang="ko"> <head> <meta charset="utf-8"/> <meta content="always" name="referrer"/> <meta content="telephone=no,address=no,email=no" name="format-detection"/> <meta conte

```


<br><br>


## 4.2 BeautifulSoup을 이용하여 파싱하는 방법 : find_all, select


`find_all` 메서드를 이용하면 `BeautifulSoup` 객체의 **HTML**에 있는 정보를 뽑아올 수 있다.


`select` 메서드를 이용하면 `BeautifulSoup` 객체의 **CSS**에 있는 정보를 뽑아올 수 있다.


즉, `find_all`과 `select`의 차이점은 다음과 같다.


- `find_all`: parsing HTML

- `select`: parsing CSS


<br><br>


### find_all과 select의 차이점을 이해하기 위한 예제


**네이버에서 '언론사별 많이 본 뉴스' 제목 뽑아오기**


<br>


#### (1) `find_all`을 이용하여 뉴스 제목 뽑아오기


<img src='https://drive.google.com/uc?id=1lqj3YODi7ldnh42oyV5qzY0mAioXYQX0'>


$1.$ 크롬을 켠 후, **'ctrl + shift + c'**이나 **'F12'**를 누르면 브라우저 오른쪽에 개발자 창이 나온다.<br>

$2.$ 개발자 창으로 수집하려고 하는 대상의 tag나 class를 찾는다.<br>

$3.$ 수집하려고 하는 뉴스 제목은 **'_officeCard _officeCard0'**이라는 class에 들어있다. (위 그림 참고)<br>

$4.$ `find_all` 메서드를 이용하여 뉴스 제목과 관련된 HTML 코드가 들어 있는 객체를 `most_views` 이름으로 할당한다.



```python
url = 'https://news.naver.com/main/ranking/popularDay.naver?mid=etc&sid1=111'
html = urlopen(url).read()
bs_object = BeautifulSoup(html, 'html.parser')
most_views = bs_object.find_all(class_='_officeCard _officeCard0') # argument의 이름이 class가 아닌 class_인 이유는 class가 '예약어'라서!
```

`most_views` 객체 안의 **'rankingnews_name'** 이라는 class에 언론사명이 들어있다.



```python
most_views[0].find_all(class_='rankingnews_name')
```

```

[<strong class="rankingnews_name">YTN</strong>,

 <strong class="rankingnews_name">국민일보</strong>,

 <strong class="rankingnews_name">아시아경제</strong>,

 <strong class="rankingnews_name">중앙일보</strong>,

 <strong class="rankingnews_name">MBC</strong>,

 <strong class="rankingnews_name">조선일보</strong>,

 <strong class="rankingnews_name">JTBC</strong>,

 <strong class="rankingnews_name">매일경제</strong>,

 <strong class="rankingnews_name">서울신문</strong>,

 <strong class="rankingnews_name">한국경제</strong>,

 <strong class="rankingnews_name">헤럴드경제</strong>,

 <strong class="rankingnews_name">이데일리</strong>]

```


`most_views` 객체 안의 **"list_title nclicks('RBP.rnknws')"** 이라는 class에 뉴스 제목이 들어있다.



```python
most_views[0].find_all(class_="list_title nclicks('RBP.rnknws')")
```

```

[<a class="list_title nclicks('RBP.rnknws')" href="https://n.news.naver.com/article/052/0001770404?ntype=RANKING">"중고거래 판매자 '김○진' 주의하세요"...며칠 새 전국 40명 피해</a>,

 <a class="list_title nclicks('RBP.rnknws')" href="https://n.news.naver.com/article/052/0001770401?ntype=RANKING">80년대 '에이즈로 피폐' 샌프란시스코, 원숭이두창 확산...비상사태 선언</a>,

 <a class="list_title nclicks('RBP.rnknws')" href="https://n.news.naver.com/article/052/0001770381?ntype=RANKING">초등학교 1년 일찍 간다...만 5살 입학 추진</a>,

 <a class="list_title nclicks('RBP.rnknws')" href="https://n.news.naver.com/article/052/0001770414?ntype=RANKING">이재명 "저소득층 與 지지" 발언 논란...단일화 신경전</a>,

 <a class="list_title nclicks('RBP.rnknws')" href="https://n.news.naver.com/article/052/0001770405?ntype=RANKING">與 초선 32명, '비대위 전환 요구' 당 지도부에 전달</a>,

 <a class="list_title nclicks('RBP.rnknws')" href="https://n.news.naver.com/article/005/0001543193?ntype=RANKING">초등 입학 8세(만6세)→7세(만5세)로 1년 당긴다…2019년 1~3월생 첫 적용 검토</a>,

 <a class="list_title nclicks('RBP.rnknws')" href="https://n.news.naver.com/article/005/0001543201?ntype=RANKING">성추행 후 ‘억울하다’ 찾아간 50대…20대 피해자 극단 선택</a>,

 <a class="list_title nclicks('RBP.rnknws')" href="https://n.news.naver.com/article/005/0001543219?ntype=RANKING">어린이집 원아 14명 ‘병원행’…플라스틱 섞인 죽 먹어</a>,

 <a class="list_title nclicks('RBP.rnknws')" href="https://n.news.naver.com/article/005/0001543184?ntype=RANKING">이재명 “‘부자’는 민주당 지지, 저학력·저소득층 국힘 지지”</a>,

 <a class="list_title nclicks('RBP.rnknws')" href="https://n.news.naver.com/article/005/0001543183?ntype=RANKING">시험지 빼돌린 광주 고교생…“서울대 꿈꾸던 전교회장”</a>,

 <a class="list_title nclicks('RBP.rnknws')" href="https://n.news.naver.com/article/277/0005125508?ntype=RANKING">초등학교 7살부터 간다…교육부, 취학연령 하향·유보통합 추진</a>,

 <a class="list_title nclicks('RBP.rnknws')" href="https://n.news.naver.com/article/277/0005125506?ntype=RANKING">'우영우 열풍' 심상치 않더니…20개국 정상 오르며 해외에서도 신드롬급 인기</a>,

 <a class="list_title nclicks('RBP.rnknws')" href="https://n.news.naver.com/article/277/0005125541?ntype=RANKING">대통령실, 지지율 30%대 붕괴에 "국민만 보고 열심히 할 것"</a>,

 <a class="list_title nclicks('RBP.rnknws')" href="https://n.news.naver.com/article/277/0005125281?ntype=RANKING">'생방송 중 우크라 전쟁 비판' 러 언론인, 이번엔 SNS 시위로 벌금형</a>,

 <a class="list_title nclicks('RBP.rnknws')" href="https://n.news.naver.com/article/277/0005125547?ntype=RANKING">대기업 입사하려면 이 정도는 돼야…학점 3.7점에 토익 846점 이상</a>,

 <a class="list_title nclicks('RBP.rnknws')" href="https://n.news.naver.com/article/025/0003213365?ntype=RANKING">1년만에 재산 절반 잃고도 14조…아시아 최고 女재벌 정체</a>,

 <a class="list_title nclicks('RBP.rnknws')" href="https://n.news.naver.com/article/025/0003213368?ntype=RANKING">"내 말 듣고 답해!" 박범계 버럭…뒷목 잡은 '신스틸러' 누구</a>,

 <a class="list_title nclicks('RBP.rnknws')" href="https://n.news.naver.com/article/025/0003213362?ntype=RANKING">"최종 목적지 文이냐…尹 취임뒤 안 털린 정부 부처가 없다"</a>,

 <a class="list_title nclicks('RBP.rnknws')" href="https://n.news.naver.com/article/025/0003213094?ntype=RANKING">"팔거면 받지나 말지" 양궁 안산 분노한 '시계 판매글' 뭐길래</a>,

 <a class="list_title nclicks('RBP.rnknws')" href="https://n.news.naver.com/article/025/0003213366?ntype=RANKING">"생기부 써줘, 취업해야돼" 대구 여교사-남고생 충격 녹취록</a>,

 <a class="list_title nclicks('RBP.rnknws')" href="https://n.news.naver.com/article/214/0001212113?ntype=RANKING">[단독] 461채 빌라왕, 1,275채 빌라황제 "갑자기 집주인 바뀌고 압류"</a>,

 <a class="list_title nclicks('RBP.rnknws')" href="https://n.news.naver.com/article/214/0001212338?ntype=RANKING">윤 대통령 지지율 20%대 진입에 "국민만 보고 열심히 하겠다"</a>,

 <a class="list_title nclicks('RBP.rnknws')" href="https://n.news.naver.com/article/214/0001212322?ntype=RANKING">교육부 "'만 5세 초교 입학' 추진‥이르면 2025년부터 시행"</a>,

 <a class="list_title nclicks('RBP.rnknws')" href="https://n.news.naver.com/article/214/0001212337?ntype=RANKING">한동훈 "'탈북 어민 강제 북송 사건', 한국에서 처벌했어야"</a>,

 <a class="list_title nclicks('RBP.rnknws')" href="https://n.news.naver.com/article/214/0001212317?ntype=RANKING">[World Now] 日 정치권 "전대미문 대실수이고 경악스럽다"‥세계유산 불발 후폭풍</a>,

 <a class="list_title nclicks('RBP.rnknws')" href="https://n.news.naver.com/article/023/0003706978?ntype=RANKING">美 교도소서 집단 성폭행...돈받은 교도관이 女 구역 열쇠 넘겼다</a>,

 <a class="list_title nclicks('RBP.rnknws')" href="https://n.news.naver.com/article/023/0003706946?ntype=RANKING">홍준표, 배현진 사퇴에 “정부 힘든데 각자도생하나, 철부지들”</a>,

 <a class="list_title nclicks('RBP.rnknws')" href="https://n.news.naver.com/article/023/0003706958?ntype=RANKING">31조 가졌던 금수저 女부호… 수개월 만에 재산 반토막 난 이유</a>,

 <a class="list_title nclicks('RBP.rnknws')" href="https://n.news.naver.com/article/023/0003706967?ntype=RANKING">이재명 “저학력·저소득층서 국민의힘 지지 많아... 언론 환경 때문”</a>,

 <a class="list_title nclicks('RBP.rnknws')" href="https://n.news.naver.com/article/023/0003706954?ntype=RANKING">0%대 사내대출·물 한 번 안 채운 수영장···공공기관 과잉복지 손본다</a>,

 <a class="list_title nclicks('RBP.rnknws')" href="https://n.news.naver.com/article/437/0000307692?ntype=RANKING">"더 빨리 입학하고 더 빨리 졸업"…교육부 7살 입학 추진</a>,

 <a class="list_title nclicks('RBP.rnknws')" href="https://n.news.naver.com/article/437/0000307695?ntype=RANKING">5호 태풍 '송다' 북상…주말 제주·남해안 강한 비바람</a>,

 <a class="list_title nclicks('RBP.rnknws')" href="https://n.news.naver.com/article/437/0000307704?ntype=RANKING">[JTBC 뉴스레터 600] 대통령 지지율 추락, 누가 책임 클까</a>,

 <a class="list_title nclicks('RBP.rnknws')" href="https://n.news.naver.com/article/437/0000307711?ntype=RANKING">입 닦고 손도 쓱쓱…식당 물수건서 세균 13억마리 득실</a>,

 <a class="list_title nclicks('RBP.rnknws')" href="https://n.news.naver.com/article/437/0000307712?ntype=RANKING">첫 20%대 지지율…대통령실 "일희일비 않고 국민만 보고 열심히"</a>,

 <a class="list_title nclicks('RBP.rnknws')" href="https://n.news.naver.com/article/009/0004998133?ntype=RANKING">100억 번 신사임당 3천억대 자산가와 신사업 "조단위 기업 만들 것…美 증시 상장도 도전"</a>,

 <a class="list_title nclicks('RBP.rnknws')" href="https://n.news.naver.com/article/009/0004998144?ntype=RANKING">"내 아내 갑자기 밀치고 나중에 오리발"…이방카 남편이 지목한, 남성의 정체</a>,

 <a class="list_title nclicks('RBP.rnknws')" href="https://n.news.naver.com/article/009/0004998177?ntype=RANKING">개미들, 주식시장서 물릴만큼 물렸다…목돈 들고 몰려간 곳은 [Wealth]</a>,

 <a class="list_title nclicks('RBP.rnknws')" href="https://n.news.naver.com/article/009/0004998189?ntype=RANKING">과천 자이도 '줍줍' 나왔다…서울 아파트값 9주 연속 '뚝'</a>,

 <a class="list_title nclicks('RBP.rnknws')" href="https://n.news.naver.com/article/009/0004998201?ntype=RANKING">靑 요리사가 밝힌 대통령 최애 음식…MB는 바비큐, 문재인은?</a>,

 <a class="list_title nclicks('RBP.rnknws')" href="https://n.news.naver.com/article/081/0003291026?ntype=RANKING">“싸이 ‘흠뻑쇼’ 갔다가 확진” 공포 확산…강릉시 “NO마스크 퇴장”(종합)</a>,

 <a class="list_title nclicks('RBP.rnknws')" href="https://n.news.naver.com/article/081/0003291030?ntype=RANKING">초등 입학연령 1년 당긴다…격렬한 ‘논란’ 예고</a>,

 <a class="list_title nclicks('RBP.rnknws')" href="https://n.news.naver.com/article/081/0003291031?ntype=RANKING">대통령실, 지지율 첫 20%대에 “국민만 보고 열심히”</a>,

 <a class="list_title nclicks('RBP.rnknws')" href="https://n.news.naver.com/article/081/0003291038?ntype=RANKING">이재명 ‘저소득층’ 발언에 野 후보들도 “위험한 발상”</a>,

 <a class="list_title nclicks('RBP.rnknws')" href="https://n.news.naver.com/article/081/0003290909?ntype=RANKING">“생기부 써달라”…성관계 여교사-남학생 ‘성적 대화’ 녹취록 공개</a>,

 <a class="list_title nclicks('RBP.rnknws')" href="https://n.news.naver.com/article/015/0004730768?ntype=RANKING">'만보 걷기' 하루도 빠짐없이 한 달 했더니…놀라운 결과 [건강!톡]</a>,

 <a class="list_title nclicks('RBP.rnknws')" href="https://n.news.naver.com/article/015/0004730762?ntype=RANKING">'학생과 성관계' 대구 여교사…블랙박스에 녹음된 대화 들어보니</a>,

 <a class="list_title nclicks('RBP.rnknws')" href="https://n.news.naver.com/article/015/0004730809?ntype=RANKING">"오늘도 기대했던 내가 바보"…속 터지는 삼성전자 개미들</a>,

 <a class="list_title nclicks('RBP.rnknws')" href="https://n.news.naver.com/article/015/0004730846?ntype=RANKING">男 죄수들, 女 구치소 습격해 '집단 성폭행'…미국 '발칵'</a>,

 <a class="list_title nclicks('RBP.rnknws')" href="https://n.news.naver.com/article/015/0004730872?ntype=RANKING">교대생 어쩌나…내년 서울 초등교사 임용, 절반으로 '뚝'</a>,

 <a class="list_title nclicks('RBP.rnknws')" href="https://n.news.naver.com/article/016/0002022318?ntype=RANKING">“아이유도 푹 빠졌는데” 꼭 지우라던 중국앱, 돌연 사라졌다?</a>,

 <a class="list_title nclicks('RBP.rnknws')" href="https://n.news.naver.com/article/016/0002022243?ntype=RANKING">‘미용실 원장은 상간녀’ 영등포 뒤덮은 허위전단 유포범 잡고보니…</a>,

 <a class="list_title nclicks('RBP.rnknws')" href="https://n.news.naver.com/article/016/0002021919?ntype=RANKING">“요즘 이걸 누가 사냐” 여성 마음 훔친 ‘대세남’도 흥행 실패</a>,

 <a class="list_title nclicks('RBP.rnknws')" href="https://n.news.naver.com/article/016/0002022311?ntype=RANKING">무증상자에 너무 비싼 코로나 검사…정부 "부담 더는 방안 강구"</a>,

 <a class="list_title nclicks('RBP.rnknws')" href="https://n.news.naver.com/article/016/0002022332?ntype=RANKING">대통령실 ‘尹 첫 20%대 지지율’에 “국민만 보고 열심히 하겠다”</a>,

 <a class="list_title nclicks('RBP.rnknws')" href="https://n.news.naver.com/article/018/0005280122?ntype=RANKING">김건희 여사에게 충고?…"尹에 '휴가 반납하시라' 조언해야"</a>,

 <a class="list_title nclicks('RBP.rnknws')" href="https://n.news.naver.com/article/018/0005280254?ntype=RANKING">대통령실, 尹 지지율 첫 20%대 진입에 "국민만 보고 갈 것"</a>,

 <a class="list_title nclicks('RBP.rnknws')" href="https://n.news.naver.com/article/018/0005280294?ntype=RANKING">한동훈에 "텔레그램, 항상 뒤 조심"…尹 '문자 유출'이 낳은 풍경</a>,

 <a class="list_title nclicks('RBP.rnknws')" href="https://n.news.naver.com/article/018/0005280296?ntype=RANKING">성추행 뒤 조사 받자 ‘억울해’ 피해자에 따진 男</a>,

 <a class="list_title nclicks('RBP.rnknws')" href="https://n.news.naver.com/article/018/0005279745?ntype=RANKING">“尹, 얼마나 국민 얕보는가… 이준석은 춤추고 페북질 할 때냐”</a>]

```


<br><br>


언론사별 가장 많이 본 뉴스 제목을 출력하면 다음과 같다.



```python
press = most_views[0].find_all(class_='rankingnews_name')
news = most_views[0].find_all(class_="list_title nclicks('RBP.rnknws')")

for i in range(len(press)):
    press_name = press[i].contents[0]
    print(f'{press_name}'.center(100, '-'))

    for j in range(5):
        news_name = news[(5*i) + j].contents[0]
        print(f'{j+1}: {news_name}')
        
    print()
```

<pre>
------------------------------------------------YTN-------------------------------------------------
1: "중고거래 판매자 '김○진' 주의하세요"...며칠 새 전국 40명 피해
2: 80년대 '에이즈로 피폐' 샌프란시스코, 원숭이두창 확산...비상사태 선언
3: 초등학교 1년 일찍 간다...만 5살 입학 추진
4: 이재명 "저소득층 與 지지" 발언 논란...단일화 신경전
5: 與 초선 32명, '비대위 전환 요구' 당 지도부에 전달

------------------------------------------------국민일보------------------------------------------------
1: 초등 입학 8세(만6세)→7세(만5세)로 1년 당긴다…2019년 1~3월생 첫 적용 검토
2: 성추행 후 ‘억울하다’ 찾아간 50대…20대 피해자 극단 선택
3: 어린이집 원아 14명 ‘병원행’…플라스틱 섞인 죽 먹어
4: 이재명 “‘부자’는 민주당 지지, 저학력·저소득층 국힘 지지”
5: 시험지 빼돌린 광주 고교생…“서울대 꿈꾸던 전교회장”

-----------------------------------------------아시아경제------------------------------------------------
1: 초등학교 7살부터 간다…교육부, 취학연령 하향·유보통합 추진
2: '우영우 열풍' 심상치 않더니…20개국 정상 오르며 해외에서도 신드롬급 인기
3: 대통령실, 지지율 30%대 붕괴에 "국민만 보고 열심히 할 것"
4: '생방송 중 우크라 전쟁 비판' 러 언론인, 이번엔 SNS 시위로 벌금형
5: 대기업 입사하려면 이 정도는 돼야…학점 3.7점에 토익 846점 이상

------------------------------------------------중앙일보------------------------------------------------
1: 1년만에 재산 절반 잃고도 14조…아시아 최고 女재벌 정체
2: "내 말 듣고 답해!" 박범계 버럭…뒷목 잡은 '신스틸러' 누구
3: "최종 목적지 文이냐…尹 취임뒤 안 털린 정부 부처가 없다"
4: "팔거면 받지나 말지" 양궁 안산 분노한 '시계 판매글' 뭐길래
5: "생기부 써줘, 취업해야돼" 대구 여교사-남고생 충격 녹취록

------------------------------------------------MBC-------------------------------------------------
1: [단독] 461채 빌라왕, 1,275채 빌라황제 "갑자기 집주인 바뀌고 압류"
2: 윤 대통령 지지율 20%대 진입에 "국민만 보고 열심히 하겠다"
3: 교육부 "'만 5세 초교 입학' 추진‥이르면 2025년부터 시행"
4: 한동훈 "'탈북 어민 강제 북송 사건', 한국에서 처벌했어야"
5: [World Now] 日 정치권 "전대미문 대실수이고 경악스럽다"‥세계유산 불발 후폭풍

------------------------------------------------조선일보------------------------------------------------
1: 美 교도소서 집단 성폭행...돈받은 교도관이 女 구역 열쇠 넘겼다
2: 홍준표, 배현진 사퇴에 “정부 힘든데 각자도생하나, 철부지들”
3: 31조 가졌던 금수저 女부호… 수개월 만에 재산 반토막 난 이유
4: 이재명 “저학력·저소득층서 국민의힘 지지 많아... 언론 환경 때문”
5: 0%대 사내대출·물 한 번 안 채운 수영장···공공기관 과잉복지 손본다

------------------------------------------------JTBC------------------------------------------------
1: "더 빨리 입학하고 더 빨리 졸업"…교육부 7살 입학 추진
2: 5호 태풍 '송다' 북상…주말 제주·남해안 강한 비바람
3: [JTBC 뉴스레터 600] 대통령 지지율 추락, 누가 책임 클까
4: 입 닦고 손도 쓱쓱…식당 물수건서 세균 13억마리 득실
5: 첫 20%대 지지율…대통령실 "일희일비 않고 국민만 보고 열심히"

------------------------------------------------매일경제------------------------------------------------
1: 100억 번 신사임당 3천억대 자산가와 신사업 "조단위 기업 만들 것…美 증시 상장도 도전"
2: "내 아내 갑자기 밀치고 나중에 오리발"…이방카 남편이 지목한, 남성의 정체
3: 개미들, 주식시장서 물릴만큼 물렸다…목돈 들고 몰려간 곳은 [Wealth]
4: 과천 자이도 '줍줍' 나왔다…서울 아파트값 9주 연속 '뚝'
5: 靑 요리사가 밝힌 대통령 최애 음식…MB는 바비큐, 문재인은?

------------------------------------------------서울신문------------------------------------------------
1: “싸이 ‘흠뻑쇼’ 갔다가 확진” 공포 확산…강릉시 “NO마스크 퇴장”(종합)
2: 초등 입학연령 1년 당긴다…격렬한 ‘논란’ 예고
3: 대통령실, 지지율 첫 20%대에 “국민만 보고 열심히”
4: 이재명 ‘저소득층’ 발언에 野 후보들도 “위험한 발상”
5: “생기부 써달라”…성관계 여교사-남학생 ‘성적 대화’ 녹취록 공개

------------------------------------------------한국경제------------------------------------------------
1: '만보 걷기' 하루도 빠짐없이 한 달 했더니…놀라운 결과 [건강!톡]
2: '학생과 성관계' 대구 여교사…블랙박스에 녹음된 대화 들어보니
3: "오늘도 기대했던 내가 바보"…속 터지는 삼성전자 개미들
4: 男 죄수들, 女 구치소 습격해 '집단 성폭행'…미국 '발칵'
5: 교대생 어쩌나…내년 서울 초등교사 임용, 절반으로 '뚝'

-----------------------------------------------헤럴드경제------------------------------------------------
1: “아이유도 푹 빠졌는데” 꼭 지우라던 중국앱, 돌연 사라졌다?
2: ‘미용실 원장은 상간녀’ 영등포 뒤덮은 허위전단 유포범 잡고보니…
3: “요즘 이걸 누가 사냐” 여성 마음 훔친 ‘대세남’도 흥행 실패
4: 무증상자에 너무 비싼 코로나 검사…정부 "부담 더는 방안 강구"
5: 대통령실 ‘尹 첫 20%대 지지율’에 “국민만 보고 열심히 하겠다”

------------------------------------------------이데일리------------------------------------------------
1: 김건희 여사에게 충고?…"尹에 '휴가 반납하시라' 조언해야"
2: 대통령실, 尹 지지율 첫 20%대 진입에 "국민만 보고 갈 것"
3: 한동훈에 "텔레그램, 항상 뒤 조심"…尹 '문자 유출'이 낳은 풍경
4: 성추행 뒤 조사 받자 ‘억울해’ 피해자에 따진 男
5: “尹, 얼마나 국민 얕보는가… 이준석은 춤추고 페북질 할 때냐”

</pre>
<br>


#### (2) `select`를 이용하여 뉴스 제목 뽑아오기


<img src='https://drive.google.com/uc?id=19ipW7zsw4dneGei-YU0ku93_9zhPeOTx'>


$1.$ 크롬을 켠 후, **'ctrl + shift + c'**이나 **'F12'**를 누르면 브라우저 오른쪽에 개발자 창이 나온다.<br>

$2.$ 개발자 창으로 수집하려고 하는 대상의 CSS 코드를 찾는다.<br>

$3.$ CSS 코드는 수집 대상에 해당하는 부분에 마우스 우측 버튼을 누른 후, **'Copy selector'**를 누르고 `select` 메서드 안에 붙여넣기 한다. (위 그림 참고)<br>

$4.$ `select` 메서드를 이용하여 뉴스 제목과 관련된 CSS 코드가 들어 있는 객체를 `most_views` 이름으로 할당한다.



```python
url = 'https://news.naver.com/main/ranking/popularDay.naver?mid=etc&sid1=111'
html = urlopen(url).read()
bs_object = BeautifulSoup(html, 'html.parser')
most_views = bs_object.select('#wrap > div.rankingnews._popularWelBase._persist > div.rankingnews_box_wrap._popularRanking > div')
```

언론사별 가장 많이 본 뉴스 제목을 출력하면 다음과 같다.



```python
press = most_views[0].find_all(class_='rankingnews_name')
news = most_views[0].find_all(class_="list_title nclicks('RBP.rnknws')")

for i in range(len(press)):
    press_name = press[i].contents[0]
    print(f'{press_name}'.center(100, '-'))

    for j in range(5):
        news_name = news[(5*i) + j].contents[0]
        print(f'{j+1}: {news_name}')
        
    print()
```

<pre>
-----------------------------------------------아시아경제------------------------------------------------
1: 초등학교 7살부터 간다…교육부, 취학연령 하향·유보통합 추진
2: '우영우 열풍' 심상치 않더니…20개국 정상 오르며 해외에서도 신드롬급 인기
3: 대통령실, 지지율 30%대 붕괴에 "국민만 보고 열심히 할 것"
4: '생방송 중 우크라 전쟁 비판' 러 언론인, 이번엔 SNS 시위로 벌금형
5: 대기업 입사하려면 이 정도는 돼야…학점 3.7점에 토익 846점 이상

------------------------------------------------KBS-------------------------------------------------
1: 4000억 송금 본사는 “월세 30만 원 1인 사무실”…‘4조 불법 송금’ 정체는?
2: “이쪽 사고 아니에요”…사고 발생지 떠넘긴 지자체들
3: 日 정치권 “전대미문의 실수”…사도광산 후폭풍
4: 윤 대통령, “초등학교 입학 1년 앞당기는 방안 마련” 지시
5: “초등 입학 만 5세부터”…“디지털 인재양성 만전”

------------------------------------------------JTBC------------------------------------------------
1: "더 빨리 입학하고 더 빨리 졸업"…교육부 7살 입학 추진
2: 5호 태풍 '송다' 북상…주말 제주·남해안 강한 비바람
3: [JTBC 뉴스레터 600] 대통령 지지율 추락, 누가 책임 클까
4: 입 닦고 손도 쓱쓱…식당 물수건서 세균 13억마리 득실
5: 첫 20%대 지지율…대통령실 "일희일비 않고 국민만 보고 열심히"

------------------------------------------------MBC-------------------------------------------------
1: [단독] 461채 빌라왕, 1,275채 빌라황제 "갑자기 집주인 바뀌고 압류"
2: 윤 대통령 지지율 20%대 진입에 "국민만 보고 열심히 하겠다"
3: 교육부 "'만 5세 초교 입학' 추진‥이르면 2025년부터 시행"
4: 한동훈 "'탈북 어민 강제 북송 사건', 한국에서 처벌했어야"
5: [World Now] 日 정치권 "전대미문 대실수이고 경악스럽다"‥세계유산 불발 후폭풍

------------------------------------------------조선일보------------------------------------------------
1: 美 교도소서 집단 성폭행...돈받은 교도관이 女 구역 열쇠 넘겼다
2: 홍준표, 배현진 사퇴에 “정부 힘든데 각자도생하나, 철부지들”
3: 31조 가졌던 금수저 女부호… 수개월 만에 재산 반토막 난 이유
4: 이재명 “저학력·저소득층서 국민의힘 지지 많아... 언론 환경 때문”
5: 0%대 사내대출·물 한 번 안 채운 수영장···공공기관 과잉복지 손본다

------------------------------------------------한겨레-------------------------------------------------
1: 영화 ‘외계+인’…신나긴 한데 뭐라는 거야?
2: 초등학교 입학 1년 앞당긴다…외국어고 폐지 추진
3: 태풍 ‘송다’ 시속 61㎞ 한반도 접근…주말 제주에 강한 비
4: 취임 두달새 28%…그래도 “일희일비 안 한다”는 대통령실
5: ‘정치적 중립’ 보루 감사원장이 “대통령 지원”…국힘도 “귀를 의심”

------------------------------------------------YTN-------------------------------------------------
1: "중고거래 판매자 '김○진' 주의하세요"...며칠 새 전국 40명 피해
2: 80년대 '에이즈로 피폐' 샌프란시스코, 원숭이두창 확산...비상사태 선언
3: 초등학교 1년 일찍 간다...만 5살 입학 추진
4: 이재명 "저소득층 與 지지" 발언 논란...단일화 신경전
5: 與 초선 32명, '비대위 전환 요구' 당 지도부에 전달

------------------------------------------------한국경제------------------------------------------------
1: '만보 걷기' 하루도 빠짐없이 한 달 했더니…놀라운 결과 [건강!톡]
2: '학생과 성관계' 대구 여교사…블랙박스에 녹음된 대화 들어보니
3: "오늘도 기대했던 내가 바보"…속 터지는 삼성전자 개미들
4: 男 죄수들, 女 구치소 습격해 '집단 성폭행'…미국 '발칵'
5: 교대생 어쩌나…내년 서울 초등교사 임용, 절반으로 '뚝'

------------------------------------------------조선비즈------------------------------------------------
1: 안철수, 윤핵관·이준석에 “국민들은 ‘똑같은 놈’이라고 한다”
2: LG전자, TV 부진에도 매출 빛났다…車 전장 7년 만에 흑자 전환
3: 이재명 “저소득층 與 지지”…박용진 “참 위험” 강훈식 “반성 못한 것”
4: [속보] 尹대통령 “초등 입학 연령 만 6세에서 5세로”...박순애 장관에 신속 강구 당부
5: ‘돌연 은퇴’ 강방천 차명투자 의혹 조사…금감원 “곧 제재안 올릴 예정”

------------------------------------------------SBS-------------------------------------------------
1: 만취 손님 몰래 긁고 또 긁고…깨보니 '343만 원 술값 폭탄'
2: 대통령실, 첫 20%대 지지율에 "국민만 보고 열심히 하겠다"
3: 초등학교 입학 1년 빨라진다…이르면 2025년부터 7세 입학 추진
4: "팔 거면 받지 말지"…안산, 사인 시계 되팔기에 분노
5: 아파트서 '리얼돌' 떨어져 차량 파손…DNA 분석 의뢰

------------------------------------------------문화일보------------------------------------------------
1: 공연 중 천장서 대형 스크린 쿵...홍콩 아이돌 콘서트 사고로 1명 중태
2: UAE ‘돌발홍수’ 4000여명 대피 …“세계 모든 지역 폭우 발생할 수도”
3: 초교 입학연령 1살 낮아진다...이르면 2025년부터 만5세 입학
4: 홍준표, 배현진 사퇴에 “당까지 각자도생...비대위는 또 라스푸틴 들이자는 말”
5: 대장동 개발 ‘초기단계’ 파고드는 檢… 이재명 겨냥하나

------------------------------------------------연합뉴스------------------------------------------------
1: 초등학교 입학 1년 빨라진다…이르면 2025년부터 7세 입학 추진
2: 무증상자 검사 5만원 논란에 정부 "확진자 접촉자는 5천원으로"(종합)
3: "중요한 재충전 시간"…尹, 국정 난제 속 닷새간 여름휴가(종합)
4: 초등입학 1년 일찍?…부모들 "조기교육 걱정"vs"보육부담 덜까"
5: [Q&A;] 취학연령 하향…"2018년 1월∼2019년 3월생, 2025년 초등 입학"

</pre>
<br><br>


## 4.3 BeautifulSoup으로 크롤링하기


### BeautifulSoup을 이해하기 위한 예제


**'아반떼' 로 네이버 검색한 뒤, 관련된 블로그 제목과 링크 뽑아오기**


<img src='https://drive.google.com/uc?id=1LORDM2GGaQW4D1z_bOgFFeoFN-zw-azE'>


$1.$ 크롬을 켠 후, **'ctrl + shift + c'**이나 **'F12'**를 누르면 브라우저 오른쪽에 개발자 창이 나온다.<br>

$2.$ 개발자 창으로 수집하려고 하는 대상의 tag나 class를 찾는다.<br>

$3.$ 수집하려고 하는 블로그 제목과 링크는 **'api_txt_lines total_tit'** 이라는 class에 들어있다. (위 그림 참고)<br>

$4.$ `find_all` 메서드를 이용하여 블로그에 있는 HTML 코드가 들어 있는 객체를 `blog_infos` 이름으로 할당한다.



```python
url = 'https://search.naver.com/search.naver?where=post&sm=tab_jum&query=%EC%95%84%EB%B0%98%EB%96%BC'
url_object = urlopen(url)
html = url_object.read()
bs_object = BeautifulSoup(html, 'html.parser')
blog_infos = bs_object.find_all(class_='api_txt_lines total_tit')
```


```python
type(blog_infos)
```

<pre>
bs4.element.ResultSet
</pre>

```python
isinstance(blog_infos, list) # 블로그의 html 코드가 list 형태로 저장되어 있음
```

<pre>
True
</pre>

```python
blog_infos[0] # 첫 번째 블로그에 대한 html 코드
```

```

<a class="api_txt_lines total_tit" href="https://www.tisdory.com/4183" onclick="return goOtherCR(this, 'a=blg*x.xblg&amp;r=1&amp;i=a00000fa_3f8e05c95fc68aa5ff3b3e55&amp;u='+urlencode(this.href))" target="_blank">더 뉴 <mark>아반떼</mark> 휠 교체 (남양주 오토코리아, 벨센 M103 17인치)</a>

```



```python
blog_infos[0].attrs # attrs 메서드를 사용하면 html 코드가 dict 형태로 깔끔하게 나온다.
```

```

{'href': 'https://www.tisdory.com/4183',

 'class': ['api_txt_lines', 'total_tit'],

 'target': '_blank',

 'onclick': "return goOtherCR(this, 'a=blg*x.xblg&r=1&i=a00000fa_3f8e05c95fc68aa5ff3b3e55&u='+urlencode(this.href))"}

```



```python
blog_infos[0].contents # 첫 번째 블로그의 제목
```

```

['더 뉴 ', <mark>아반떼</mark>, ' 휠 교체 (남양주 오토코리아, 벨센 M103 17인치)']

```



```python
blog_infos[0].attrs['href'] # 첫 번째 블로그의 링크
```

```

'https://www.tisdory.com/4183'

```


$5.$ for loop 를 이용하여 블로그의 제목, 링크를 출력한다.



```python
for i in range(len(blog_infos)):
    title = ''

    for content in blog_infos[i].contents:
        result = ''

        try:
            result = content.contents[0]
        except AttributeError:
            result = content
    
        title += result
        
    link = blog_infos[i].attrs['href']

    print(f' Blog {i+1} '.center(100, '-'))
    print(f'Title: {title}')
    print(f'Link: {link}')
    print()
```

<pre>
---------------------------------------------- Blog 1 ----------------------------------------------
Title: 더 뉴 아반떼 휠 교체 (남양주 오토코리아, 벨센 M103 17인치)
Link: https://www.tisdory.com/4183

---------------------------------------------- Blog 2 ----------------------------------------------
Title: 1세1기 아반떼md 중고시세 가장저렴
Link: https://blog.naver.com/lio2551/222813590022

---------------------------------------------- Blog 3 ----------------------------------------------
Title: 아반떼md 중고차 수출 기준 및 절차
Link: https://blog.naver.com/ksm2_/222833580594

---------------------------------------------- Blog 4 ----------------------------------------------
Title: 아반떼 AD 크루즈컨트롤 / 오토라이트 조도센서 시공
Link: https://blog.naver.com/helpz1760/222800339146

---------------------------------------------- Blog 5 ----------------------------------------------
Title: 대전 아반떼 AD 블루투스 활성화 크루즈 컨트롤 트렁크 버튼까지
Link: https://blog.naver.com/thegarage/222787288997

---------------------------------------------- Blog 6 ----------------------------------------------
Title: 아반떼 N. 하이 퍼포먼스카의 완성.
Link: https://blog.naver.com/hongshikbak/222720729149

---------------------------------------------- Blog 7 ----------------------------------------------
Title: 대구 아반떼AD 크루즈 컨트롤 활성화, 순정으로 완벽하게 시공
Link: https://blog.naver.com/seatj3325/222818638891

---------------------------------------------- Blog 8 ----------------------------------------------
Title: 신형 아반떼CN7 자동차 스타트 버튼 시동, 이지카 S1 설치
Link: https://blog.naver.com/dossi112/222831473146

---------------------------------------------- Blog 9 ----------------------------------------------
Title: 현대 아반떼 순정 블로워 모터 통풍시트 시공
Link: https://blog.naver.com/kinsubi/222827921721

--------------------------------------------- Blog 10 ----------------------------------------------
Title: 아반떼AD 폰터스 헤드업디스플레이 장착으로 편의옵션... 
Link: https://blog.naver.com/3mclub9/222831655570

--------------------------------------------- Blog 11 ----------------------------------------------
Title: 아반떼 N라인 신차 빨리 받는 방법 자동차 장기렌트
Link: https://blog.naver.com/boxriot1/222764613329

--------------------------------------------- Blog 12 ----------------------------------------------
Title: 아반떼HD + 엔진오일 교환 + 자동차검사 + 스피드메이트... 
Link: https://blog.naver.com/elfdlgl/222807220372

--------------------------------------------- Blog 13 ----------------------------------------------
Title: 더 뉴 아반떼 주행거리 160,000km 돌파
Link: https://www.tisdory.com/4182

--------------------------------------------- Blog 14 ----------------------------------------------
Title: 아반떼 현대 스마트센스 튜닝 차로이탈방지보조 lkas... 
Link: https://blog.naver.com/ltj600/222796065842

--------------------------------------------- Blog 15 ----------------------------------------------
Title: 아반떼XD 흡기소음 개선
Link: https://blog.naver.com/tb3744/222785446771

--------------------------------------------- Blog 16 ----------------------------------------------
Title: 아반떼MD 내차팔때 중고차수출 시세 기준과 매매 절차
Link: https://blog.naver.com/roudz/222803316874

--------------------------------------------- Blog 17 ----------------------------------------------
Title: 아반떼 현대 폰터스 HUD 헤드업디스플레이 매립 / 네비연동
Link: https://blog.naver.com/helpz1760/222804701210

--------------------------------------------- Blog 18 ----------------------------------------------
Title: CN7 아반떼 에코파워팩 보조배터리 장착 후기 & EQ900... 
Link: https://blog.naver.com/thegarage/222791079052

--------------------------------------------- Blog 19 ----------------------------------------------
Title: 아반떼MD 스피커 앰프 시공으로 음질변화 손쉽게
Link: https://blog.naver.com/ujrd4985sa/222830891649

--------------------------------------------- Blog 20 ----------------------------------------------
Title: 아반떼 CN7 N라인 벨로스 바디킷 튜닝 by 모터홀릭
Link: https://blog.naver.com/motorholic09/222827143441

--------------------------------------------- Blog 21 ----------------------------------------------
Title: 아반떼AD, I30 핸들 교체, 스마트크루즈 컨트롤, 패들쉬프트... 
Link: https://blog.naver.com/dossi112/222821030042

--------------------------------------------- Blog 22 ----------------------------------------------
Title: 아반떼 cn7 만족스러운 신차 구매 방법
Link: https://blog.naver.com/gaathei2396/222791054976

--------------------------------------------- Blog 23 ----------------------------------------------
Title: 아반떼 N 신차오일교환
Link: https://blog.naver.com/lio2551/222800692177

--------------------------------------------- Blog 24 ----------------------------------------------
Title: 아반떼AD 스마트키에 원격시동 버튼 스타트시동 거기에... 
Link: https://blog.naver.com/toiiang3/222825574555

--------------------------------------------- Blog 25 ----------------------------------------------
Title: 더 뉴 아반떼 세차 + 불스원 크리스탈 휠크리너
Link: https://www.tisdory.com/4145

--------------------------------------------- Blog 26 ----------------------------------------------
Title: 더뉴아반떼AD 운전석 메모리시트, 이지억세스 순정 옵션 튜닝... 
Link: https://blog.naver.com/tuneplus/222738475509

--------------------------------------------- Blog 27 ----------------------------------------------
Title: 아반떼 cn7 열선시트 작업 기본은 무조건 있어야합니다
Link: https://blog.naver.com/ltj600/222797438315

--------------------------------------------- Blog 28 ----------------------------------------------
Title: 2012년식 아반떼 MD 중고차수출 후기!!!(이럴땐 매매상보다... 
Link: https://blog.naver.com/idan11/222807943149

--------------------------------------------- Blog 29 ----------------------------------------------
Title: 아반떼 MD 흡기 밸브 및 ETC 클리닝(예약 입고 차량)
Link: https://blog.naver.com/cjh94041/222825542312

--------------------------------------------- Blog 30 ----------------------------------------------
Title: 아반떼AD 1.6 터보 스포츠 7DCT 모델 튜닝카 중고차 매입후기...
Link: https://blog.naver.com/shs3830/222811528796

</pre>