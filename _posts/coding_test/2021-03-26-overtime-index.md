---
title: "[프로그래머스][파이썬] 야근 지수"
categories: 
    - 코딩테스트
tags: 
    - 프로그래머스
    - 파이썬
    - 힙
toc: true
toc_sticky: true
toc_label: "목차"
---

## 문제 링크

<https://programmers.co.kr/learn/courses/30/lessons/12927>

## 문제 설명

회사원 Demi는 가끔은 야근을 하는데요, 야근을 하면 야근 피로도가 쌓입니다.  
**야근 피로도는 야근을 시작한 시점에서 남은 일의 작업량을 제곱하여 더한 값**입니다.  
Demi는 N시간 동안 야근 피로도를 최소화하도록 일할 겁니다.  
Demi가 1시간 동안 작업량 1만큼을 처리할 수 있다고 할 때, 퇴근까지 남은 `n` 시간과 각 일에 대한 작업량 `works`에 대해 **야근 피로도를 최소화한 값**을 리턴하는 함수 `solution`을 완성해주세요.

## 제한사항

- `works`는 길이 1 이상 20,000 이하인 배열입니다.
- `works`의 원소는 50000 이하인 자연수입니다.
- `n`은 1,000,000 이하인 자연수입니다.

## 입출력 예

|works|n|return|
|-----|-|------|
|[4, 3, 3]|4|12|
|[2, 1, 2]|1|6|
|[1, 1]|3|0|

## 입출력 예 설명

### 입출력 예 #1

n=4 일 때, 남은 일의 작업량이 [4, 3, 3]이라면 야근 지수를 최소화하기 위해 4시간동안 일을 한 결과는 [2, 2, 2]입니다.  
이 때 야근 지수는 $2^2 + 2^2 + 2^2 = 12$입니다.

### 입출력 예 #2

n=1일 때, 남은 일의 작업량이 [2, 1, 2]라면 야근 지수를 최소화하기 위해 1시간동안 일을 한 결과는 [1, 1, 2]입니다.  
야근지수는 $1^2 + 1^2 + 2^2 = 6$입니다.

### 입출력 예 #3

n=3일 때, 남은 일의 작업량이 [1, 1]라면 야근 지수를 최소화하기 위해 3시간동안 일을 한 결과는 [0, 0]입니다.  
야근지수는 $0^2 + 0^2 = 0$입니다.

## 풀이

파이썬의 `heapq` 모듈은 최소 힙 자료구조를 제공합니다.  
주어진 문제는 최대 힙 자료구조를 이용해야 하므로 입력값 `works`의 모든 원소의 부호를 반대로 합니다.  
그렇게 하면 `heapq` 모듈로 최대 힙 자료구조를 흉내낼 수 있습니다.  
`heappop`으로 힙의 최소 원소를 빼낸 뒤 부호를 반대로 하면 최대 원소가 됩니다.  
최대 원소가 0이라면 퇴근 전에 작업을 다 끝낸 것이므로 break를 하고 아니라면 최대 원소에 1을 뺀 값에 부호를 반대로 하여 힙에 넣어 줍니다.  
for 문을 이용하여 위 작업을 n번 반복합니다.  
그러고 나서, 남은 일의 작업량을 제곱한 후 더한 값을 반환합니다.

```python
from heapq import heapify, heappop, heappush

def solution(n, works):
    works = [-w for w in works]
    heapify(works)
    
    for _ in range(n):
        max_work = -heappop(works)
        
        if max_work == 0:
            break
        else:  
            heappush(works, -(max_work - 1))

    return sum(w ** 2 for w in works)
```