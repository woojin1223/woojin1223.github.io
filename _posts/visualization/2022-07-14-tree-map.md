---
title: "R로 구현하는 트리맵"
categories: 시각화
tags: [R, ggplot2, 트리맵]
---

<div style="margin-bottom:100px;"></div>

## 트리맵 (Tree map)

트리맵은 **계층 구조를 가진 데이터를 시각화**하는 좋은 방법이다. 계층적으로 사각형의 넓이를 다르게 하여 구성을 표현한다. `treemapify` 패키지의 `geom_treemap()`과 `geom_treemap_text()`를 사용하여 구현할 수 있다. 고려해야 할 중요 사항은 다음과 같다.

- 트리맵의 영역(넓이)을 나타내는 변수가 존재해야 한다. (`area`, `label`)
- 트리맵 안의 색을 채울 수 있는 변수가 존재해야 한다. (`fill`)
- 각 트리들을 묶을 수 있는 부모 그룹이 존재해야 한다. (`subgroup`)

```r
# load package and data
library(ggplot2)
library(treemapify)
proglangs <- read.csv("https://raw.githubusercontent.com/selva86/datasets/master/proglanguages.csv")

# treemap
ggplot(proglangs, aes(area = value, 
                      label = id,
                      fill = parent, 
                      subgroup = parent)) + 
  geom_treemap() + 
  geom_treemap_text() + 
  scale_fill_brewer(palette = "Dark2")
```

![](/public/img/2022-06-22-visualization-summary/treemap-1.png)