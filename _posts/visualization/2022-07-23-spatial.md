---
title: "R로 구현하는 구글 맵"
categories: 시각화
tags: [R, ggplot2, 구글 맵]
---

<div style="margin-bottom:100px;"></div>

## 구글 맵 (Google map)

`ggmap` 패키지는 Google 지도 API와 상호 작용하여 구글 맵에 있는 장소의 좌표(위도 및 경도)를 얻는 기능을 제공한다. `geocode()`를 통해서 장소의 좌표를 얻을 수 있고 `qmap()`을을 통해서 지도를 불러들일 수 있다. 가져 올 지도의 유형은 `maptype` 값을 어떻게 설정하는지에 따라서 달라진다. `zoom` 기능을 통해서 지도를 확대 혹은 축소할 수 있다(기본값은 10이고 3부터 21까지 가능하다).

```r
# load package and data
library(ggplot2) 
library(ggmap) 
library(ggalt) 

# google API register
register_google(key = "AIzaSyBjDkoYysOVCCGK-evX8uq2CSv-Q33V1hI") # type your api key

# get Seoul's coordinates 
seoul <- geocode("seoul") # get longitude and latitude 

# get the map
seoul_ggl_sat_map <- qmap("seoul", zoom = 12, source = "google", maptype = "satellite") # Google Satellite Map
seoul_ggl_road_map <- qmap("seoul", zoom = 12, source = "google", maptype = "roadmap") # Google Road Map
seoul_ggl_hybrid_map <- qmap("seoul", zoom = 12, source = "google", maptype = "hybrid") # Google Hybrid Map

seoul_places <- c("성신여자대학교", "성균관대학교", "연세대학교", "이화여자대학교", "홍익대학교") 
places_loc <- geocode(seoul_places) # get longitudes and latitudes 
places_loc$place <- seoul_places

# plot Google Road Map
seoul_ggl_road_map + 
  geom_point(aes(x = lon, y = lat), 
             data = places_loc, 
             alpha = 0.7, 
             size = 7, 
             color = "tomato") + 
  geom_text(aes(label = place), data = places_loc) + 
  geom_encircle(aes(x = lon, y = lat), 
                data = places_loc, 
                size = 2, 
                color = "blue")
```

![](/public/img/2022-06-22-visualization-summary/spatial1-1.png)

```r
# plot Google Hybrid Map
seoul_ggl_hybrid_map + 
  geom_point(aes(x = lon, y = lat), 
             data = places_loc, 
             alpha = 0.7, 
             size = 7, 
             color = "tomato") + 
  geom_text(aes(label = place), 
            data = places_loc, 
            colour = "white", 
            fontface = "bold") + 
  geom_encircle(aes(x = lon, y = lat), 
                data = places_loc, 
                size = 2, 
                color = "blue")
```

![](/public/img/2022-06-22-visualization-summary/spatial2-1.png)