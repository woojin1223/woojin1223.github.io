I"¥#<h2 id="ë¬¸ì œ-ë§í¬">ë¬¸ì œ ë§í¬</h2>

<p><a href="https://www.acmicpc.net/problem/1131">https://www.acmicpc.net/problem/1131</a></p>

<h2 id="ë¬¸ì œ">ë¬¸ì œ</h2>

<p>ìì—°ìˆ˜ Nì´ ì£¼ì–´ì¡Œì„ ë•Œ, Nì˜ ê° ìë¦¬ìˆ˜ë¥¼ Kì œê³± í•œ í›„ì— ê·¸ í•©ì„ êµ¬í•˜ëŠ” í•¨ìˆ˜ë¥¼ $S_K(N)$ì´ë¼ê³  í•˜ì. ì˜ˆë¥¼ ë“¤ì–´, $S_2(65) = 6^2 + 5^2 = 61$ì´ë‹¤.</p>

<p>ì´ì œ ë‹¤ìŒê³¼ ê°™ì€ ìˆ˜ì—´ì„ í•˜ë‚˜ ë§Œë“¤ì–´ë³´ì. $N, S_K(N), S_K(S_K(N)), â€¦$</p>

<p>ì´ë•Œ, Aì™€ Bì™€ Kê°€ ì£¼ì–´ì¡Œì„ ë•Œ, Aë³´ë‹¤ í¬ê±°ë‚˜ ê°™ê³ , Bë³´ë‹¤ ì‘ê±°ë‚˜ ê°™ì€ ëª¨ë“  Nìœ¼ë¡œ ê°ê° ìˆ˜ì—´ì„ ë§Œë“¤ì—ˆì„ ë•Œ, ê·¸ ìˆ˜ì—´ì—ì„œ ê°€ì¥ ì‘ì€ ìˆ˜ì˜ í•©ì„ êµ¬í•˜ëŠ” í”„ë¡œê·¸ë¨ì„ ì‘ì„±í•˜ì‹œì˜¤.</p>

<h2 id="ì…ë ¥">ì…ë ¥</h2>

<p>ì²«ì§¸ ì¤„ì— ì„¸ ì •ìˆ˜ A, B, Kê°€ ì£¼ì–´ì§„ë‹¤.</p>

<h2 id="ì¶œë ¥">ì¶œë ¥</h2>

<p>ì²«ì§¸ ì¤„ì— ë¬¸ì œì˜ ì •ë‹µì„ ì¶œë ¥í•œë‹¤.</p>

<h2 id="ì˜ˆì œ-ì…ë ¥-1">ì˜ˆì œ ì…ë ¥ 1</h2>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="base16.solarized"><code>1 5 2
</code></pre></div></div>

<h2 id="ì˜ˆì œ-ì¶œë ¥-1">ì˜ˆì œ ì¶œë ¥ 1</h2>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="base16.solarized"><code>14
</code></pre></div></div>

<ul>
  <li>1: 1, 1, 1â€¦</li>
  <li>2: 2, 4, 16, 37, 58, 89, 145, 42, 20, 4â€¦</li>
  <li>3: 3, 9, 81, 65, 61, 37, 58, 89, 145, 42, 20, 4, 16, 37â€¦</li>
  <li>4: 4, 16, 37, 58, 89, 145, 42, 20, 4â€¦</li>
  <li>5: 5, 25, 29, 85, 89, 145, 42, 20, 4, 16, 37, 58, 89â€¦</li>
</ul>

<h2 id="ì˜ˆì œ-ì…ë ¥-2">ì˜ˆì œ ì…ë ¥ 2</h2>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="base16.solarized"><code>13 13 2
</code></pre></div></div>

<h2 id="ì˜ˆì œ-ì¶œë ¥-2">ì˜ˆì œ ì¶œë ¥ 2</h2>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="base16.solarized"><code>1
</code></pre></div></div>

<h2 id="ì˜ˆì œ-ì…ë ¥-3">ì˜ˆì œ ì…ë ¥ 3</h2>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="base16.solarized"><code>10 99 1
</code></pre></div></div>

<h2 id="ì˜ˆì œ-ì¶œë ¥-3">ì˜ˆì œ ì¶œë ¥ 3</h2>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="base16.solarized"><code>450
</code></pre></div></div>

<h2 id="ì˜ˆì œ-ì…ë ¥-4">ì˜ˆì œ ì…ë ¥ 4</h2>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="base16.solarized"><code>535 538 3
</code></pre></div></div>

<h2 id="ì˜ˆì œ-ì¶œë ¥-4">ì˜ˆì œ ì¶œë ¥ 4</h2>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="base16.solarized"><code>820
</code></pre></div></div>

<h2 id="ì˜ˆì œ-ì…ë ¥-5">ì˜ˆì œ ì…ë ¥ 5</h2>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="base16.solarized"><code>100000 400000 6
</code></pre></div></div>

<h2 id="ì˜ˆì œ-ì¶œë ¥-5">ì˜ˆì œ ì¶œë ¥ 5</h2>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="base16.solarized"><code>5169721292
</code></pre></div></div>

<h2 id="í’€ì´">í’€ì´</h2>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="base16.solarized"><code><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">k</span> <span class="o">=</span> <span class="nb">map</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">input</span><span class="p">().</span><span class="n">split</span><span class="p">())</span>
<span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">dp</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>

<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
    <span class="n">answer</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s">"inf"</span><span class="p">)</span>
    <span class="n">seq</span> <span class="o">=</span> <span class="p">[]</span>
    
    <span class="k">while</span> <span class="n">x</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">seq</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">dp</span><span class="p">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">break</span>
          
        <span class="n">seq</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
        <span class="n">nx</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">y</span><span class="p">)</span> <span class="o">**</span> <span class="n">k</span> <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
        <span class="n">x</span> <span class="o">=</span> <span class="n">nx</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">idx</span> <span class="o">=</span> <span class="n">seq</span><span class="p">.</span><span class="n">index</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
        <span class="n">seq_min</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">seq</span><span class="p">[</span><span class="n">idx</span><span class="p">:])</span>
        
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">idx</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">seq</span><span class="p">)):</span>
            <span class="n">dp</span><span class="p">[</span><span class="n">seq</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span> <span class="o">=</span> <span class="n">seq_min</span>
            
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">idx</span><span class="p">):</span>
            <span class="n">dp</span><span class="p">[</span><span class="n">seq</span><span class="p">[</span><span class="n">j</span><span class="p">]]</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">seq</span><span class="p">[</span><span class="n">j</span><span class="p">],</span> <span class="n">seq_min</span><span class="p">)</span>
    
    <span class="k">if</span> <span class="n">seq</span><span class="p">:</span>
        <span class="n">dp</span><span class="p">[</span><span class="n">seq</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">seq</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">dp</span><span class="p">[</span><span class="n">x</span><span class="p">])</span>
        
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">reversed</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">seq</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)):</span>
            <span class="n">dp</span><span class="p">[</span><span class="n">seq</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">seq</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">dp</span><span class="p">[</span><span class="n">seq</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]])</span>
        
        <span class="n">result</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">seq</span><span class="p">[</span><span class="mi">0</span><span class="p">]])</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">result</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="n">x</span><span class="p">])</span>
    
<span class="k">print</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">result</span><span class="p">))</span>
</code></pre></div></div>
:ET